本章节收集了用户常见的问题和解答，帮助您快速找到解决方案。

#  13.1 开发相关问题

**Q1: 如何修改WiFi SSID和密码？**

A: 在`firmware/src/main.cpp`中修改以下常量：
```cpp
const char* ssid = "NodeHexa";           // 修改SSID
const char* password = "roboticscv666";  // 修改密码
```
修改后重新编译并烧录固件。

**Q2: 如何添加新的运动模式？**

A: 参考第10章"动作组扩展开发"和第11.3节"自定义运动模式"，完整流程包括：
1. 编写Python轨迹生成脚本
2. 运行pathTool生成轨迹表
3. 添加运动模式枚举
4. 集成到动作表
5. 更新Web界面

**Q3: 如何修改默认速度？**

A: 在`firmware/include/config.h`中修改：
```cpp
const float defaultSpeed = 0.5;  // 修改默认速度（0.25-1.0）
```

**Q4: 编译时出现内存不足错误怎么办？**

A: 可以尝试以下方法：
1. 优化代码，减少内存使用
2. 减少调试输出
3. 优化数据结构
4. 检查是否有内存泄漏

**Q5: 如何调试运动学计算？**

A: 可以：
1. 使用正运动学验证关节角度
2. 输出足端位置信息
3. 使用串口监视器查看调试信息
4. 参考第11.5节"调试技巧"

**Q6: 如何修改运动学参数？**

A: 在`firmware/include/config.h`中修改以下参数：
```cpp
const float kLegRootToJoint1 = 20.75;
const float kLegJoint1ToJoint2 = 28.0;
const float kLegJoint2ToJoint3 = 42.6;
const float kLegJoint3ToTip = 89.07;
```
修改后需要重新生成轨迹表。

#  13.2 使用相关问题

**Q1: 机器人启动后无法连接WiFi怎么办？**

A: 请检查：
1. ESP32是否正常启动（查看串口输出）
2. WiFi密码是否正确（默认：roboticscv666）
3. 设备是否在WiFi覆盖范围内
4. 参考第12.1.3节"WiFi连接失败"

**Q2: 如何重置校准数据？**

A: 有两种方法：
1. 通过Web界面：进入校准模式，点击"开始校准"（会清除所有偏移）
2. 通过代码：调用`hexapod::Hexapod.clearOffset()`

**Q3: 校准数据保存在哪里？**

A: 校准数据保存在SPIFFS文件系统中的`/calibration.json`文件。断电后数据不会丢失。

**Q4: 如何备份和恢复校准数据？**

A: 
- **备份：** 可以通过串口监视器查看校准数据，或通过SPIFFS文件系统访问文件
- **恢复：** 修改`/calibration.json`文件，或重新进入校准模式调整

**Q5: 机器人运动不流畅怎么办？**

A: 可能原因：
1. 校准数据不正确 - 重新校准
2. 速度设置过快 - 降低速度
3. 机械问题 - 检查机械结构
4. 轨迹点问题 - 检查轨迹生成

**Q6: 如何通过串口控制机器人？**

A: 参考第8.3节"串口控制"和第9.2节"串口通信协议"：
1. 连接UART2（GPIO16-RX, GPIO17-TX）
2. 设置波特率115200
3. 发送帧格式：`$<JSON>\n`
4. 接收响应帧

#  13.3 性能优化

**Q1: 如何提高运动速度？**

A: 可以：
1. 增加速度倍数（最大1.0）
2. 减少轨迹点数量（需要重新生成轨迹表）
3. 优化代码执行时间
4. 注意：速度过快可能导致运动不稳定

**Q2: 如何减少内存使用？**

A: 可以：
1. 减少轨迹点数量
2. 优化数据结构
3. 减少调试输出
4. 使用更紧凑的数据类型

**Q3: 如何优化通信性能？**

A: 可以：
1. 减少JSON数据大小
2. 使用二进制协议（需要修改代码）
3. 批量发送数据
4. 优化WebSocket消息频率

**Q4: 主循环执行时间过长怎么办？**

A: 可以：
1. 优化运动学计算
2. 减少不必要的计算
3. 使用查找表
4. 检查是否有阻塞操作

**Q5: 如何提高系统稳定性？**

A: 建议：
1. 添加错误处理
2. 增加超时保护
3. 监控内存使用
4. 添加Watchdog保护
5. 优化任务优先级

**Q6: 如何减少功耗？**

A: 可以：
1. 降低CPU频率（需要修改代码）
2. 优化任务调度
3. 使用低功耗模式（需要修改代码）
4. 减少不必要的计算
5. 注意：降低功耗可能影响性能

---
