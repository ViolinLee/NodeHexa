在进行固件开发和调试之前，您需要准备以下器材。本章节假设您已经完成了机器人的硬件组装，这里列出的是开发调试阶段所需的器材。

#  6.1 必备硬件清单

##  6.1.1 机器人本体

**要求：**
- **已完成组装：** 所有硬件部件已正确组装
- **舵机连接：** 18个舵机已正确连接到PCA9685驱动板
- **电路连接：** 所有电路连接正确，包括：
  - ESP32主控板
  - 2块PCA9685驱动板（I2C地址已正确配置）
  - 电源连接
  - 电池监测电路

**检查清单：**
- [ ] 所有舵机已安装并固定
- [ ] 舵机线缆连接正确
- [ ] 左右两侧PCA9685驱动板I2C地址已正确配置（0x40和0x41）
- [ ] ESP32主控板已安装
- [ ] 所有电源连接正确
- [ ] 电池已安装（或外接电源已连接）

**TODO：** 需要补充完整的组装检查清单和硬件连接图

##  6.1.2 USB数据线

**要求：**

**⚠️ 重要：必须使用支持数据传输的数据线，不能使用仅充电功能的线缆！**

**规格要求：**
- **接口类型：** Micro-USB（与NodeMCU-32S开发板匹配）
- **功能：** 必须支持数据传输（USB 2.0标准）
- **长度：** 建议1-2米（便于调试）
- **质量：** 建议使用质量较好的数据线，避免接触不良

**用途：**
1. **固件烧录：** 通过PlatformIO上传固件到ESP32
2. **串口调试：** 查看串口输出日志（115200波特率）
3. **实时监控：** 监控程序运行状态和调试信息

**如何判断数据线是否支持数据传输：**
- 连接到电脑后，设备管理器中能识别到串口设备（如COM3、COM4等）
- 如果只能充电，无法识别串口，说明数据线仅支持充电功能

**推荐：**
- 使用官方开发板配套的数据线
- 使用知名品牌的数据线（如Anker、绿联等）
- 避免使用手机充电线（很多仅支持充电）

**TODO：** 需要补充ESP32驱动安装说明（Windows/Linux/macOS）

##  6.1.3 电池和充电器

**电池要求：**

**电压规格：**
- **低电压阈值：** 6.4V（系统自动监测）
- **建议标称电压：** 7.4V（2S锂电池）或类似规格
- **TODO：** 需要补充具体电池型号、容量、放电电流等规格参数

**安全要求：**
- 使用带有保护板的锂电池
- 确保电池质量和安全性
- 避免使用劣质电池

**充电器要求：**

**TODO：** 需要补充充电器规格、充电电流、充电方式等

**注意事项：**
- 充电时建议断开机器人电源
- 使用配套的专用充电器
- 充电时注意安全，避免过充

**电池监测功能：**

系统内置电池电压监测功能：
- 实时监测电池电压（通过GPIO34 ADC）
- 电压低于6.4V时，LED指示灯闪烁警告
- 建议在低电压警告时及时充电或更换电池

**TODO：** 需要补充电池使用和维护说明

##  6.1.4 开发用电脑

**系统要求：**

**支持的操作系统：**
- Windows 10/11
- macOS 10.15+
- Linux (Ubuntu 18.04+)

**硬件要求：**
- **USB端口：** 至少1个USB端口（用于连接ESP32）
- **处理器：** 无特殊要求（现代CPU即可）
- **内存：** 建议4GB以上
- **存储空间：** 建议至少2GB可用空间（用于安装开发工具）

**软件要求：**
- Visual Studio Code（推荐）
- PlatformIO插件
- USB串口驱动（ESP32驱动）

**TODO：** 需要补充USB串口驱动下载链接和安装步骤

#  6.2 工具清单

##  6.2.1 调试工具

**串口监视器：**
- PlatformIO内置串口监视器（推荐）
- 或使用PuTTY、串口助手等第三方工具
- 波特率：115200

**网络工具：**
- Web浏览器（Chrome、Firefox、Edge等）
- 用于访问Web控制界面（http://192.168.4.1）
- 支持WebSocket的设备（移动设备也可）

##  6.2.2 可选工具

**万用表：**
- 用于检查电池电压
- 检查电路连接
- 排查硬件故障

**示波器（可选）：**
- 用于高级调试
- 检查PWM信号
- 分析I2C通信

**逻辑分析仪（可选）：**
- 用于协议分析
- 调试通信问题

**TODO：** 需要补充常用调试工具的使用方法

#  6.3 软件准备

##  6.3.1 开发环境

**必需软件：**

1. **Visual Studio Code**
   - 下载地址：https://code.visualstudio.com/
   - 版本：最新稳定版

2. **PlatformIO插件**
   - 在VSCode中安装PlatformIO IDE插件
   - 会自动安装PlatformIO Core

3. **Git（可选但推荐）**
   - 用于版本控制
   - 下载地址：https://git-scm.com/

**详细安装步骤：** 请参考第5章"环境配置"

##  6.3.2 项目代码

**获取方式：**

**方式1：Git克隆（推荐）**
```bash
git clone https://github.com/ViolinLee/NodeHexa.git
cd NodeHexa
```

**方式2：下载ZIP**
- 从GitHub仓库下载ZIP压缩包
- 解压到本地目录

**TODO：** 需要补充GitHub仓库地址（如果已公开）

##  6.3.3 驱动程序

**ESP32 USB驱动：**

**Windows系统：**
- 通常Windows 10/11会自动识别
- 如无法识别，需要安装CP2102
- **TODO：** 需要补充具体驱动下载链接

**macOS系统：**
- 通常无需额外驱动
- 如无法识别，可能需要安装CP2102驱动

**Linux系统：**
- 通常无需额外驱动
- 可能需要添加用户到dialout组：
  ```bash
  sudo usermod -a -G dialout $USER
  ```

**验证驱动安装：**

连接ESP32后，检查设备管理器（Windows）或终端（Linux/macOS）：
- Windows：设备管理器中应看到"端口（COM和LPT）"下的串口设备
- Linux：`ls /dev/ttyUSB*` 或 `ls /dev/ttyACM*`
- macOS：`ls /dev/cu.*` 或 `ls /dev/tty.*`

**TODO：** 需要补充详细的驱动安装和故障排除步骤

#  6.4 器材检查清单

在开始开发之前，请确认以下物品已准备就绪：

**硬件检查：**
- [ ] 机器人本体已完整组装
- [ ] 电池已安装并充满电（或外接电源已连接）
- [ ] Micro-USB数据线已准备（支持数据传输）
- [ ] 开发用电脑已准备

**软件检查：**
- [ ] Visual Studio Code已安装
- [ ] PlatformIO插件已安装
- [ ] ESP32 USB驱动已安装（电脑能识别串口）
- [ ] 项目代码已下载到本地

**连接检查：**
- [ ] ESP32已通过USB连接到电脑
- [ ] 电脑能识别到串口设备
- [ ] 机器人已上电（电池或外接电源）

**网络检查（运行时）：**
- [ ] 电脑或手机支持WiFi连接
- [ ] 可以连接到"NodeHexa" WiFi热点（密码：roboticscv666）
- [ ] 可以访问 http://192.168.4.1

**TODO：** 需要补充故障排除指南（如无法识别串口、无法连接WiFi等）

---
